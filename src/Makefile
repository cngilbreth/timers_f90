FC := gfortran -g -fbounds-check -fbacktrace -DTEST_TIMERS

################################################################################
# Targets
################################################################################

vpath %.o build
vpath %.mod mod
vpath %.f90 ./

OBJ1=timers.o

timers: ${OBJ1}
	${FC} -o $@ $+

clean:
	rm -f *.o *.mod timers

################################################################################
# Object files
################################################################################

build/timers.o:

################################################################################
# Build rules
################################################################################

build/%.o: %.cpp
	$(CXX) -c $< -o $@
build/%.o: %.c
	$(CC) -c $< -o $@
build/%.o: %.f90
	$(FC) -c $< -o $@
build/%.o: %.f
	$(FC) -c $< -o $@
build/%.o: %.F90
	$(FC) -c $< -o $@
build/%.o: %.F
	$(FC) -c $< -o $@
